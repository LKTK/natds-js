# Contributing to Natura Design System

When contributing to this repository, please first discuss the change you wish to make via issue, email, or any other method with the owners of this repository before making a change.

This repo is using node version `node@10.16.3`. Have this version installed to avoid potential problems.
We also uses yarn workspaces, so you should install `yarn@1.19.1` or higher as a package manager. See [installation guide](https://yarnpkg.com/en/docs/install).

Please note we have a code of conduct, please follow it in all your interactions with the project.

## Code of Conduct

Natura Design System has adopted the [Contributor Covenant](https://www.contributor-covenant.org/) as its Code of Conduct, and we expect project participants to adhere to it.
Please read [the full text](/CODE_OF_CONDUCT.md) so that you can understand which actions will and will not be tolerated.

## Branching

Your feature branch must be checked out from the milestone that the feature belongs. You can follow whichever PR guideline inside your feature branch, but make sure that when Pull Requesting back to the milestone branch to use the [pull request template](./.github/PULL_REQUEST_TEMPLATE.md).

## For contributors on Natura Organization

If you find yourself in this category, you can go directly to branching this repository, without worrying about forking.

## For contributors outside Natura Organization

If you find yourself in this category, you should forke this repository in order to start working.

## Visual Validation

After merged, the PR will generate a version on the storybook that the milestone is attached. Provide the version number to the UX team for validation.

## Initiating the Contribution

First, you need to install dependencies and build packages. After that you will be able to execute any of the projects (docs, web or mobile).

```sh
yarn
yarn build
```

## Pull Request Process

1. Ensure any install or build dependencies are removed before the end of the layer when doing a build.
2. Update the README.md with details of changes to the interface, this includes new environment variables, exposed ports, useful file locations and container parameters.
3. We use [Commitizen](https://github.com/commitizen/cz-cli) to follow [Semantic Release](https://github.com/semantic-release/semantic-release) patterns.
4. You may merge the Pull Request in once you have the sign-off of two other developers, or if you do not have permission to do that, you may request the second reviewer to merge it for you.
5. We use [Verdaccio](https://github.com/verdaccio/verdaccio) to release local test. Before submitting a PR, we advise you to take a few steps:
   > After installing Verdaccio, on a terminal/console, start `verdaccio` process.<br/>
   > At another terminal/console, run the command `yarn release:local`. This will publish the packages locally (http://localhost:4873), which may include the dependency required for other projects, e.g.: `yarn add @ naturacosmeticos/natds-web --registry=http://localhost:4873`.<br/>
   > Before you finish, run `yarn release:local:revert` to revert commit generated by the previous process.
