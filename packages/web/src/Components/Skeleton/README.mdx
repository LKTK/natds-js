import { Meta, Preview, Props, Story } from '@storybook/addon-docs/blocks';
import { ComponentWithLabel, getComponentParams, getDefaultDecorators } from '../../../.storybook';

import Skeleton from '.'
import { animations, forAvatar, forTypography, variants } from './stories'

<Meta component={Skeleton} parameters={getComponentParams(["Skeleton"])} title="Components|Skeleton" />

# Skeleton

Display a placeholder preview of your content before the data gets loaded to reduce load-time frustration.

The data for your components might not be immediately available. You can increase the perceived performance for users
by using skeletons. It feels like things are happening immediately, then the information is incrementally displayed on
the screen. (Cf. [Avoid The Spinner](https://www.lukew.com/ff/entry.asp?1797))

The component can be used *directly in your components*. For instance:

```jsx
{item ? (
  <img alt={item.title} height= src={item.src} />
) : (
  <Skeleton variant={"rect"} />
)}
```

## Variants

The component supports 3 shape variants.

### Text

<Preview>
  <Story name="Skeleton variants">
    <ComponentWithLabel componentList={variants} headingText={"Variants"} />
  </Story>
</Preview>

```jsx
import React from "react";
import Skeleton from "@naturacosmeticos/natds-web/dist/Components"

export const Variants = () => (
  <div>
    <Skeleton variant={"text"} />
    <Skeleton variant={"circle"} height={40} width={40} />
    <Skeleton variant={"rect"} height={118} width={210} />
  </div>
)
```

## Animations

By default, the skeleton pulsate, but you can change the animation for a wave or disable it entirely.

<Preview>
  <Story name="Skeleton animations">
    <ComponentWithLabel componentList={animations} headingText={"Animations"} />
  </Story>
</Preview>

```jsx
import React from "react";
import Skeleton from "@naturacosmeticos/natds-web/dist/Components"

export const Animations = () => (
  <div>
      <Skeleton />
      <Skeleton animation={false} />
      <Skeleton animation="wave" />
  </div>
)
```

## Inferring dimensions

In addition to accepting `height` and `width` props, the component can also infer the dimensions.

It works well when it comes to typography as its height is set using `em` units.

<Preview>
  <Story name="Skeleton with Typography">
    <ComponentWithLabel componentList={forTypography} headingText={"With Typography"} />
  </Story>
</Preview>

```jsx
import React from "React";
import Typography from "@naturacosmeticos/natds-web/dist/Typography";

export const SkeletonTypography = () => {

  const loading = false;

  return (
    <div>
      <Typography variant={"h1"}>
        { loading ? <Skeleton /> : "h1" }
      </Typography>
    </div>
  );
}
```

However, when it comes to other components, you may not want to repeat the height and width.

In these instances, you can pass `children` and it will infer its width and height from them.

<Preview>
  <Story name="Skeleton with Avatar">
    <ComponentWithLabel componentList={forAvatar} header={"With Avatar"} />
  </Story>
</Preview>

```jsx
import React from "react";
import Avatar from "@naturacosmeticos/natds-web/dist/Avatar";
import Skeleton from "@naturacosmeticos/natds-web/dist/Skeleton";

export const SkeletonChildrenDemo = () => {

  const loading = false;

  return (
    <div>
      { loading ? (
        <Skeleton variant={"circle"}>
          <Avatar />
        </Skeleton>
      ) : (
        <Avatar src={"https://"} />
      )}
    </div>
  );

}
```

## Accessibility

Skeleton screens provide an alternative to the traditional spinner methods.

Rather than showing an abstract widget, skeleton screens create anticipation of what is to come and reduce cognitive load.

## Skeleton API

The API documentation of the Skeleton component. Learn more about the props.

### Import

```jsx
import Skeleton from "@naturacosmeticos/natds-web/dist/Skeleton";
// or
import { Skeleton } from "@naturacosmeticos/natds-web";
```

### Props

The `ref` is forwarded to the root element.

Any other props supplied will be provided to the root element.
